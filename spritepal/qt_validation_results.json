{
  "test_results": [
    {
      "file": "tests/test_qt_signal_architecture.py",
      "duration": 15.857387781143188,
      "passed": 0,
      "failed": 2,
      "tests": [
        {
          "name": "TestQtSignalArchitecture",
          "status": "FAILED"
        },
        {
          "name": "TestQtSignalArchitecture",
          "status": "FAILED"
        }
      ],
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.12.3, pytest-8.4.1, pluggy-1.6.0 -- /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/venv/bin/python\ncachedir: .pytest_cache\nbenchmark: 5.1.0 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)\nPyQt6 6.9.1 -- Qt runtime 6.9.1 -- Qt compiled 6.9.0\nrootdir: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, benchmark-5.1.0, cov-6.2.1, qt-4.5.0, timeout-2.4.0\ncollecting ... collected 15 items\n\ntests/test_qt_signal_architecture.py::TestQtSignalArchitecture::test_signal_connection_with_casting FAILED [  6%]\n\n=================================== FAILURES ===================================\n_________ TestQtSignalArchitecture.test_signal_connection_with_casting _________\ntests/test_qt_signal_architecture.py:99: in test_signal_connection_with_casting\n    controller = ExtractionController(\ncore/controller.py:182: in __init__\n    self.session_manager = session_manager or get_session_manager()\n                                              ^^^^^^^^^^^^^^^^^^^^^\ncore/managers/registry.py:377: in get_session_manager\n    return _registry.get_session_manager()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ncore/managers/registry.py:210: in get_session_manager\n    return self._get_manager(\"session\", SessionManager)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ncore/managers/registry.py:264: in _get_manager\n    raise ManagerError(\nE   core.managers.exceptions.ManagerError: Session manager not initialized. Call initialize_managers() first.\n----------------------------- Captured Qt messages -----------------------------\nQtWarningMsg: Failed to create wl_display (No such file or directory)\nQtInfoMsg: Could not load the Qt platform plugin \"wayland\" in \"\" even though it was found.\n---------------------------- Captured stderr setup -----------------------------\nINFO - spritepal.ManagerRegistry - Initializing managers...\nWARNING - spritepal.ManagerRegistry - No QApplication instance found - managers will have no Qt parent\nDEBUG - spritepal.ManagerRegistry - Creating SessionManager...\nINFO - spritepal.managers.SessionManager - Settings loaded successfully\nINFO - spritepal.managers.SessionManager - SessionManager initialized with settings file: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/.testapp_settings.json\nDEBUG - spritepal.ManagerRegistry - SessionManager created successfully\nDEBUG - spritepal.ManagerRegistry - Creating ExtractionManager...\nDEBUG - spritepal.core.extractor - SpriteExtractor initialized: offset=0xC000, size=16384, tiles_per_row=16\nDEBUG - spritepal.core.rom_extractor - Initializing ROMExtractor\nINFO - spritepal.core.hal_compression - Initializing HAL compressor\nINFO - spritepal.core.hal_compression - Searching for exhal tool\nDEBUG - spritepal.core.hal_compression - Searching 9 locations for exhal\nINFO - spritepal.core.hal_compression - Found exhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal\nINFO - spritepal.core.hal_compression - Searching for inhal tool\nDEBUG - spritepal.core.hal_compression - Searching 9 locations for inhal\nINFO - spritepal.core.hal_compression - Found inhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nINFO - spritepal.core.hal_compression - HAL compressor initialized with exhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal, inhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nINFO - spritepal.core.hal_compression - HALProcessPool singleton initialized\nINFO - spritepal.core.hal_compression - Starting HAL process pool with 4 workers\nDEBUG - spritepal.core.hal_compression - Started worker process 1/4: PID 19869\nDEBUG - spritepal.core.hal_compression - Started worker process 2/4: PID 19871\nDEBUG - spritepal.hal_worker_19869 - HAL worker process 19869 started\nDEBUG - spritepal.core.hal_compression - Started worker process 3/4: PID 19875\nDEBUG - spritepal.hal_worker_19871 - HAL worker process 19871 started\nDEBUG - spritepal.core.hal_compression - Started worker process 4/4: PID 19878\nDEBUG - spritepal.hal_worker_19875 - HAL worker process 19875 started\nDEBUG - spritepal.hal_worker_19878 - HAL worker process 19878 started\nDEBUG - spritepal.core.hal_compression - Pool communication test successful\nINFO - spritepal.core.hal_compression - HAL process pool initialized successfully\nINFO - spritepal.core.hal_compression - HAL process pool enabled for enhanced performance\nDEBUG - spritepal.core.injector - SpriteInjector initialized\nINFO - spritepal.core.hal_compression - Initializing HAL compressor\nINFO - spritepal.core.hal_compression - Searching for exhal tool\nDEBUG - spritepal.core.hal_compression - Searching 9 locations for exhal\nINFO - spritepal.core.hal_compression - Found exhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal\nINFO - spritepal.core.hal_compression - Searching for inhal tool\nDEBUG - spritepal.core.hal_compression - Searching 9 locations for inhal\nINFO - spritepal.core.hal_compression - Found inhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nINFO - spritepal.core.hal_compression - HAL compressor initialized with exhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal, inhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nDEBUG - spritepal.core.hal_compression - Pool already initialized\nINFO - spritepal.core.hal_compression - HAL process pool enabled for enhanced performance\nINFO - spritepal.core.sprite_config_loader - Loaded sprite config: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/config/sprite_locations.json\nDEBUG - spritepal.core.rom_injector - ROMInjector initialized with HAL compression support\nINFO - spritepal.core.default_palette_loader - Loaded default palettes: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/config/default_palettes.json\nINFO - spritepal.core.sprite_config_loader - Loaded sprite config: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/config/sprite_locations.json\nINFO - spritepal.core.rom_extractor - ROMExtractor initialized with HAL compression and palette extraction support\nINFO - spritepal.managers.ExtractionManager - ExtractionManager initialized\nDEBUG - spritepal.ManagerRegistry - ExtractionManager created successfully\nDEBUG - spritepal.ManagerRegistry - Creating InjectionManager...\nINFO - spritepal.managers.InjectionManager - InjectionManager initialized\nDEBUG - spritepal.ManagerRegistry - InjectionManager created successfully\nINFO - spritepal.ManagerRegistry - All managers initialized successfully\n------------------------------ Captured log setup ------------------------------\nINFO     spritepal.ManagerRegistry:registry.py:88 Initializing managers...\nWARNING  spritepal.ManagerRegistry:registry.py:93 No QApplication instance found - managers will have no Qt parent\nDEBUG    spritepal.ManagerRegistry:registry.py:105 Creating SessionManager...\nINFO     spritepal.managers.SessionManager:session_manager.py:71 Settings loaded successfully\nINFO     spritepal.managers.SessionManager:session_manager.py:56 SessionManager initialized with settings file: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/.testapp_settings.json\nDEBUG    spritepal.ManagerRegistry:registry.py:112 SessionManager created successfully\nDEBUG    spritepal.ManagerRegistry:registry.py:115 Creating ExtractionManager...\nDEBUG    spritepal.core.extractor:extractor.py:38 SpriteExtractor initialized: offset=0xC000, size=16384, tiles_per_row=16\nDEBUG    spritepal.core.rom_extractor:rom_extractor.py:65 Initializing ROMExtractor\nINFO     spritepal.core.hal_compression:hal_compression.py:853 Initializing HAL compressor\nINFO     spritepal.core.hal_compression:hal_compression.py:880 Searching for exhal tool\nDEBUG    spritepal.core.hal_compression:hal_compression.py:911 Searching 9 locations for exhal\nINFO     spritepal.core.hal_compression:hal_compression.py:915 Found exhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal\nINFO     spritepal.core.hal_compression:hal_compression.py:880 Searching for inhal tool\nDEBUG    spritepal.core.hal_compression:hal_compression.py:911 Searching 9 locations for inhal\nINFO     spritepal.core.hal_compression:hal_compression.py:915 Found inhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nINFO     spritepal.core.hal_compression:hal_compression.py:857 HAL compressor initialized with exhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal, inhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nINFO     spritepal.core.hal_compression:hal_compression.py:317 HALProcessPool singleton initialized\nINFO     spritepal.core.hal_compression:hal_compression.py:361 Starting HAL process pool with 4 workers\nDEBUG    spritepal.core.hal_compression:hal_compression.py:371 Started worker process 1/4: PID 19869\nDEBUG    spritepal.core.hal_compression:hal_compression.py:371 Started worker process 2/4: PID 19871\nDEBUG    spritepal.core.hal_compression:hal_compression.py:371 Started worker process 3/4: PID 19875\nDEBUG    spritepal.core.hal_compression:hal_compression.py:371 Started worker process 4/4: PID 19878\nDEBUG    spritepal.core.hal_compression:hal_compression.py:390 Pool communication test successful\nINFO     spritepal.core.hal_compression:hal_compression.py:395 HAL process pool initialized successfully\nINFO     spritepal.core.hal_compression:hal_compression.py:868 HAL process pool enabled for enhanced performance\nDEBUG    spritepal.core.injector:injector.py:67 SpriteInjector initialized\nINFO     spritepal.core.hal_compression:hal_compression.py:853 Initializing HAL compressor\nINFO     spritepal.core.hal_compression:hal_compression.py:880 Searching for exhal tool\nDEBUG    spritepal.core.hal_compression:hal_compression.py:911 Searching 9 locations for exhal\nINFO     spritepal.core.hal_compression:hal_compression.py:915 Found exhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal\nINFO     spritepal.core.hal_compression:hal_compression.py:880 Searching for inhal tool\nDEBUG    spritepal.core.hal_compression:hal_compression.py:911 Searching 9 locations for inhal\nINFO     spritepal.core.hal_compression:hal_compression.py:915 Found inhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nINFO     spritepal.core.hal_compression:hal_compression.py:857 HAL compressor initialized with exhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal, inhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nDEBUG    spritepal.core.hal_compression:hal_compression.py:345 Pool already initialized\nINFO     spritepal.core.hal_compression:hal_compression.py:868 HAL process pool enabled for enhanced performance\nINFO     spritepal.core.sprite_config_loader:sprite_config_loader.py:56 Loaded sprite config: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/config/sprite_locations.json\nDEBUG    spritepal.core.rom_injector:rom_injector.py:65 ROMInjector initialized with HAL compression support\nINFO     spritepal.core.default_palette_loader:default_palette_loader.py:42 Loaded default palettes: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/config/default_palettes.json\nINFO     spritepal.core.sprite_config_loader:sprite_config_loader.py:56 Loaded sprite config: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/config/sprite_locations.json\nINFO     spritepal.core.rom_extractor:rom_extractor.py:71 ROMExtractor initialized with HAL compression and palette extraction support\nINFO     spritepal.managers.ExtractionManager:extraction_manager.py:64 ExtractionManager initialized\nDEBUG    spritepal.ManagerRegistry:registry.py:121 ExtractionManager created successfully\nDEBUG    spritepal.ManagerRegistry:registry.py:123 Creating InjectionManager...\nINFO     spritepal.managers.InjectionManager:injection_manager.py:59 InjectionManager initialized\nDEBUG    spritepal.ManagerRegistry:registry.py:129 InjectionManager created successfully\nINFO     spritepal.ManagerRegistry:registry.py:140 All managers initialized successfully\n----------------------------- Captured stderr call -----------------------------\nINFO - spritepal.managers.InjectionManager - InjectionManager initialized\nDEBUG - spritepal.core.extractor - SpriteExtractor initialized: offset=0xC000, size=16384, tiles_per_row=16\nDEBUG - spritepal.core.rom_extractor - Initializing ROMExtractor\nINFO - spritepal.core.hal_compression - Initializing HAL compressor\nINFO - spritepal.core.hal_compression - Searching for exhal tool\nDEBUG - spritepal.core.hal_compression - Searching 9 locations for exhal\nINFO - spritepal.core.hal_compression - Found exhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal\nINFO - spritepal.core.hal_compression - Searching for inhal tool\nDEBUG - spritepal.core.hal_compression - Searching 9 locations for inhal\nINFO - spritepal.core.hal_compression - Found inhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nINFO - spritepal.core.hal_compression - HAL compressor initialized with exhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal, inhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nDEBUG - spritepal.core.hal_compression - Pool already initialized\nINFO - spritepal.core.hal_compression - HAL process pool enabled for enhanced performance\nDEBUG - spritepal.core.injector - SpriteInjector initialized\nINFO - spritepal.core.hal_compression - Initializing HAL compressor\nINFO - spritepal.core.hal_compression - Searching for exhal tool\nDEBUG - spritepal.core.hal_compression - Searching 9 locations for exhal\nINFO - spritepal.core.hal_compression - Found exhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal\nINFO - spritepal.core.hal_compression - Searching for inhal tool\nDEBUG - spritepal.core.hal_compression - Searching 9 locations for inhal\nINFO - spritepal.core.hal_compression - Found inhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nINFO - spritepal.core.hal_compression - HAL compressor initialized with exhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal, inhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nDEBUG - spritepal.core.hal_compression - Pool already initialized\nINFO - spritepal.core.hal_compression - HAL process pool enabled for enhanced performance\nINFO - spritepal.core.sprite_config_loader - Loaded sprite config: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/config/sprite_locations.json\nDEBUG - spritepal.core.rom_injector - ROMInjector initialized with HAL compression support\nINFO - spritepal.core.default_palette_loader - Loaded default palettes: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/config/default_palettes.json\nINFO - spritepal.core.sprite_config_loader - Loaded sprite config: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/config/sprite_locations.json\nINFO - spritepal.core.rom_extractor - ROMExtractor initialized with HAL compression and palette extraction support\nINFO - spritepal.managers.ExtractionManager - ExtractionManager initialized\n------------------------------ Captured log call -------------------------------\nINFO     spritepal.managers.InjectionManager:injection_manager.py:59 InjectionManager initialized\nDEBUG    spritepal.core.extractor:extractor.py:38 SpriteExtractor initialized: offset=0xC000, size=16384, tiles_per_row=16\nDEBUG    spritepal.core.rom_extractor:rom_extractor.py:65 Initializing ROMExtractor\nINFO     spritepal.core.hal_compression:hal_compression.py:853 Initializing HAL compressor\nINFO     spritepal.core.hal_compression:hal_compression.py:880 Searching for exhal tool\nDEBUG    spritepal.core.hal_compression:hal_compression.py:911 Searching 9 locations for exhal\nINFO     spritepal.core.hal_compression:hal_compression.py:915 Found exhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal\nINFO     spritepal.core.hal_compression:hal_compression.py:880 Searching for inhal tool\nDEBUG    spritepal.core.hal_compression:hal_compression.py:911 Searching 9 locations for inhal\nINFO     spritepal.core.hal_compression:hal_compression.py:915 Found inhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nINFO     spritepal.core.hal_compression:hal_compression.py:857 HAL compressor initialized with exhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal, inhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nDEBUG    spritepal.core.hal_compression:hal_compression.py:345 Pool already initialized\nINFO     spritepal.core.hal_compression:hal_compression.py:868 HAL process pool enabled for enhanced performance\nDEBUG    spritepal.core.injector:injector.py:67 SpriteInjector initialized\nINFO     spritepal.core.hal_compression:hal_compression.py:853 Initializing HAL compressor\nINFO     spritepal.core.hal_compression:hal_compression.py:880 Searching for exhal tool\nDEBUG    spritepal.core.hal_compression:hal_compression.py:911 Searching 9 locations for exhal\nINFO     spritepal.core.hal_compression:hal_compression.py:915 Found exhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal\nINFO     spritepal.core.hal_compression:hal_compression.py:880 Searching for inhal tool\nDEBUG    spritepal.core.hal_compression:hal_compression.py:911 Searching 9 locations for inhal\nINFO     spritepal.core.hal_compression:hal_compression.py:915 Found inhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nINFO     spritepal.core.hal_compression:hal_compression.py:857 HAL compressor initialized with exhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal, inhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nDEBUG    spritepal.core.hal_compression:hal_compression.py:345 Pool already initialized\nINFO     spritepal.core.hal_compression:hal_compression.py:868 HAL process pool enabled for enhanced performance\nINFO     spritepal.core.sprite_config_loader:sprite_config_loader.py:56 Loaded sprite config: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/config/sprite_locations.json\nDEBUG    spritepal.core.rom_injector:rom_injector.py:65 ROMInjector initialized with HAL compression support\nINFO     spritepal.core.default_palette_loader:default_palette_loader.py:42 Loaded default palettes: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/config/default_palettes.json\nINFO     spritepal.core.sprite_config_loader:sprite_config_loader.py:56 Loaded sprite config: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/config/sprite_locations.json\nINFO     spritepal.core.rom_extractor:rom_extractor.py:71 ROMExtractor initialized with HAL compression and palette extraction support\nINFO     spritepal.managers.ExtractionManager:extraction_manager.py:64 ExtractionManager initialized\n--------------------------- Captured stderr teardown ---------------------------\nDEBUG - spritepal.hal_worker_19875 - Worker process 19875: Queue error, exiting: \nDEBUG - spritepal.hal_worker_19875 - HAL worker process 19875 exiting\nDEBUG - spritepal.hal_worker_19878 - Worker process 19878: Queue error, exiting: \nDEBUG - spritepal.hal_worker_19878 - HAL worker process 19878 exiting\nDEBUG - spritepal.hal_worker_19871 - Worker process 19871: Queue error, exiting: \nDEBUG - spritepal.hal_worker_19871 - HAL worker process 19871 exiting\nDEBUG - spritepal.hal_worker_19869 - Worker process 19869: Queue error, exiting: \nDEBUG - spritepal.hal_worker_19869 - HAL worker process 19869 exiting\nINFO - spritepal.ManagerRegistry - Cleaning up managers...\nDEBUG - spritepal.ManagerRegistry - Cleaned up injection manager\nDEBUG - spritepal.ManagerRegistry - Cleaned up extraction manager\nDEBUG - spritepal.ManagerRegistry - Cleaned up session manager\nDEBUG - spritepal.ManagerRegistry - Manager 'extraction' was garbage collected\nDEBUG - spritepal.ManagerRegistry - Manager 'injection' was garbage collected\nINFO - spritepal.core.hal_compression - Shutting down HAL process pool (PIDs: [19869, 19871, 19875, 19878])\nDEBUG - spritepal.core.hal_compression - Process 19869 already terminated, skipping shutdown signal\nDEBUG - spritepal.core.hal_compression - Process 19871 already terminated, skipping shutdown signal\nDEBUG - spritepal.core.hal_compression - Process 19875 already terminated, skipping shutdown signal\nDEBUG - spritepal.core.hal_compression - Process 19878 already terminated, skipping shutdown signal\nDEBUG - spritepal.core.hal_compression - Sent 0 shutdown signals to 4 processes\nDEBUG - spritepal.core.hal_compression - Process 19869 already terminated\nDEBUG - spritepal.core.hal_compression - Process 19871 already terminated\nDEBUG - spritepal.core.hal_compression - Process 19875 already terminated\nDEBUG - spritepal.core.hal_compression - Process 19878 already terminated\nDEBUG - spritepal.core.hal_compression - Shutting down multiprocessing manager\nDEBUG - spritepal.core.hal_compression - Manager shutdown completed successfully\nINFO - spritepal.core.hal_compression - HAL process pool shutdown complete\nDEBUG - spritepal.ManagerRegistry - Cleaned up HAL process pool\nDEBUG - spritepal.spritepal.core.managers.context - Cleared current context in thread MainThread\nDEBUG - spritepal.ManagerRegistry - Cleared context manager references\nINFO - spritepal.ManagerRegistry - All managers cleaned up\n---------------------------- Captured log teardown -----------------------------\nINFO     spritepal.ManagerRegistry:registry.py:163 Cleaning up managers...\nDEBUG    spritepal.ManagerRegistry:registry.py:170 Cleaned up injection manager\nDEBUG    spritepal.ManagerRegistry:registry.py:170 Cleaned up extraction manager\nDEBUG    spritepal.ManagerRegistry:registry.py:170 Cleaned up session manager\nDEBUG    spritepal.ManagerRegistry:registry.py:66 Manager 'extraction' was garbage collected\nDEBUG    spritepal.ManagerRegistry:registry.py:66 Manager 'injection' was garbage collected\nINFO     spritepal.core.hal_compression:hal_compression.py:528 Shutting down HAL process pool (PIDs: [19869, 19871, 19875, 19878])\nDEBUG    spritepal.core.hal_compression:hal_compression.py:561 Process 19869 already terminated, skipping shutdown signal\nDEBUG    spritepal.core.hal_compression:hal_compression.py:561 Process 19871 already terminated, skipping shutdown signal\nDEBUG    spritepal.core.hal_compression:hal_compression.py:561 Process 19875 already terminated, skipping shutdown signal\nDEBUG    spritepal.core.hal_compression:hal_compression.py:561 Process 19878 already terminated, skipping shutdown signal\nDEBUG    spritepal.core.hal_compression:hal_compression.py:568 Sent 0 shutdown signals to 4 processes\nDEBUG    spritepal.core.hal_compression:hal_compression.py:583 Process 19869 already terminated\nDEBUG    spritepal.core.hal_compression:hal_compression.py:583 Process 19871 already terminated\nDEBUG    spritepal.core.hal_compression:hal_compression.py:583 Process 19875 already terminated\nDEBUG    spritepal.core.hal_compression:hal_compression.py:583 Process 19878 already terminated\nDEBUG    spritepal.core.hal_compression:hal_compression.py:666 Shutting down multiprocessing manager\nDEBUG    spritepal.core.hal_compression:hal_compression.py:675 Manager shutdown completed successfully\nINFO     spritepal.core.hal_compression:hal_compression.py:692 HAL process pool shutdown complete\nDEBUG    spritepal.ManagerRegistry:registry.py:184 Cleaned up HAL process pool\nDEBUG    spritepal.spritepal.core.managers.context:context.py:271 Cleared current context in thread MainThread\nDEBUG    spritepal.ManagerRegistry:registry.py:194 Cleared context manager references\nINFO     spritepal.ManagerRegistry:registry.py:198 All managers cleaned up\n=========================== short test summary info ============================\nFAILED tests/test_qt_signal_architecture.py::TestQtSignalArchitecture::test_signal_connection_with_casting - core.managers.exceptions.ManagerError: Session manager not initialized. Call initialize_managers() first.\n!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!!\n============================== 1 failed in 4.36s ===============================\n",
      "stderr": "--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/context.py\", line 346, in _cleanup_context_manager\n    _context_manager._cleanup_all_threads()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/context.py\", line 334, in _cleanup_all_threads\n    logger.debug(\"Cleaned up all thread context references\")\nMessage: 'Cleaned up all thread context references'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/context.py\", line 334, in _cleanup_all_threads\n    logger.debug(\"Cleaned up all thread context references\")\nMessage: 'Cleaned up all thread context references'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/context.py\", line 346, in _cleanup_context_manager\n    _context_manager._cleanup_all_threads()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/context.py\", line 334, in _cleanup_all_threads\n    logger.debug(\"Cleaned up all thread context references\")\nMessage: 'Cleaned up all thread context references'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/context.py\", line 334, in _cleanup_all_threads\n    logger.debug(\"Cleaned up all thread context references\")\nMessage: 'Cleaned up all thread context references'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 342, in _cleanup_global_registry\n    _registry.cleanup_managers()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 163, in cleanup_managers\n    self._logger.info(\"Cleaning up managers...\")\nMessage: 'Cleaning up managers...'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 342, in _cleanup_global_registry\n    _registry.cleanup_managers()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 184, in cleanup_managers\n    self._logger.debug(\"Cleaned up HAL process pool\")\nMessage: 'Cleaned up HAL process pool'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 342, in _cleanup_global_registry\n    _registry.cleanup_managers()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 193, in cleanup_managers\n    _context_manager.set_current_context(None)\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/context.py\", line 271, in set_current_context\n    logger.debug(f\"Cleared current context in thread {current_thread.name}\")\nMessage: 'Cleared current context in thread MainThread'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 342, in _cleanup_global_registry\n    _registry.cleanup_managers()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 194, in cleanup_managers\n    self._logger.debug(\"Cleared context manager references\")\nMessage: 'Cleared context manager references'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 342, in _cleanup_global_registry\n    _registry.cleanup_managers()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 198, in cleanup_managers\n    self._logger.info(\"All managers cleaned up\")\nMessage: 'All managers cleaned up'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 342, in _cleanup_global_registry\n    _registry.cleanup_managers()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 163, in cleanup_managers\n    self._logger.info(\"Cleaning up managers...\")\nMessage: 'Cleaning up managers...'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 342, in _cleanup_global_registry\n    _registry.cleanup_managers()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 184, in cleanup_managers\n    self._logger.debug(\"Cleaned up HAL process pool\")\nMessage: 'Cleaned up HAL process pool'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 342, in _cleanup_global_registry\n    _registry.cleanup_managers()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 193, in cleanup_managers\n    _context_manager.set_current_context(None)\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/context.py\", line 271, in set_current_context\n    logger.debug(f\"Cleared current context in thread {current_thread.name}\")\nMessage: 'Cleared current context in thread MainThread'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 342, in _cleanup_global_registry\n    _registry.cleanup_managers()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 194, in cleanup_managers\n    self._logger.debug(\"Cleared context manager references\")\nMessage: 'Cleared context manager references'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 342, in _cleanup_global_registry\n    _registry.cleanup_managers()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 198, in cleanup_managers\n    self._logger.info(\"All managers cleaned up\")\nMessage: 'All managers cleaned up'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/hal_compression.py\", line 1314, in _cleanup_hal_singleton\n    HALProcessPool.reset_singleton()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/hal_compression.py\", line 831, in reset_singleton\n    cls._instance.force_reset()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/hal_compression.py\", line 779, in force_reset\n    logger.warning(\"Force resetting HAL process pool\")\nMessage: 'Force resetting HAL process pool'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/hal_compression.py\", line 1314, in _cleanup_hal_singleton\n    HALProcessPool.reset_singleton()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/hal_compression.py\", line 831, in reset_singleton\n    cls._instance.force_reset()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/hal_compression.py\", line 823, in force_reset\n    logger.debug(\"HAL process pool force reset complete\")\nMessage: 'HAL process pool force reset complete'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/hal_compression.py\", line 1314, in _cleanup_hal_singleton\n    HALProcessPool.reset_singleton()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/hal_compression.py\", line 836, in reset_singleton\n    logger.debug(\"HAL process pool singleton reset\")\nMessage: 'HAL process pool singleton reset'\nArguments: ()\n",
      "returncode": 1
    },
    {
      "file": "tests/test_qt_threading_patterns.py",
      "duration": 13.219799280166626,
      "passed": 0,
      "failed": 2,
      "tests": [
        {
          "name": "TestQThreadPatterns",
          "status": "FAILED"
        },
        {
          "name": "TestQThreadPatterns",
          "status": "FAILED"
        }
      ],
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.12.3, pytest-8.4.1, pluggy-1.6.0 -- /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/venv/bin/python\ncachedir: .pytest_cache\nbenchmark: 5.1.0 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)\nPyQt6 6.9.1 -- Qt runtime 6.9.1 -- Qt compiled 6.9.0\nrootdir: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, benchmark-5.1.0, cov-6.2.1, qt-4.5.0, timeout-2.4.0\ncollecting ... collected 13 items\n\ntests/test_qt_threading_patterns.py::TestQThreadPatterns::test_movetothread_pattern FAILED [  7%]\n\n=================================== FAILURES ===================================\n________________ TestQThreadPatterns.test_movetothread_pattern _________________\ntests/test_qt_threading_patterns.py:137: in test_movetothread_pattern\n    assert thread.wait(1000)\nE   assert False\nE    +  where False = <built-in method wait of QThread object at 0x7f222881d310>(1000)\nE    +    where <built-in method wait of QThread object at 0x7f222881d310> = <PyQt6.QtCore.QThread object at 0x7f222881d310>.wait\n----------------------------- Captured Qt messages -----------------------------\nQtWarningMsg: Failed to create wl_display (No such file or directory)\nQtInfoMsg: Could not load the Qt platform plugin \"wayland\" in \"\" even though it was found.\n---------------------------- Captured stderr setup -----------------------------\nINFO - spritepal.ManagerRegistry - Initializing managers...\nWARNING - spritepal.ManagerRegistry - No QApplication instance found - managers will have no Qt parent\nDEBUG - spritepal.ManagerRegistry - Creating SessionManager...\nINFO - spritepal.managers.SessionManager - Settings loaded successfully\nINFO - spritepal.managers.SessionManager - SessionManager initialized with settings file: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/.testapp_settings.json\nDEBUG - spritepal.ManagerRegistry - SessionManager created successfully\nDEBUG - spritepal.ManagerRegistry - Creating ExtractionManager...\nDEBUG - spritepal.core.extractor - SpriteExtractor initialized: offset=0xC000, size=16384, tiles_per_row=16\nDEBUG - spritepal.core.rom_extractor - Initializing ROMExtractor\nINFO - spritepal.core.hal_compression - Initializing HAL compressor\nINFO - spritepal.core.hal_compression - Searching for exhal tool\nDEBUG - spritepal.core.hal_compression - Searching 9 locations for exhal\nINFO - spritepal.core.hal_compression - Found exhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal\nINFO - spritepal.core.hal_compression - Searching for inhal tool\nDEBUG - spritepal.core.hal_compression - Searching 9 locations for inhal\nINFO - spritepal.core.hal_compression - Found inhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nINFO - spritepal.core.hal_compression - HAL compressor initialized with exhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal, inhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nINFO - spritepal.core.hal_compression - HALProcessPool singleton initialized\nINFO - spritepal.core.hal_compression - Starting HAL process pool with 4 workers\nDEBUG - spritepal.core.hal_compression - Started worker process 1/4: PID 19928\nDEBUG - spritepal.core.hal_compression - Started worker process 2/4: PID 19929\nDEBUG - spritepal.core.hal_compression - Started worker process 3/4: PID 19932\nDEBUG - spritepal.hal_worker_19928 - HAL worker process 19928 started\nDEBUG - spritepal.hal_worker_19929 - HAL worker process 19929 started\nDEBUG - spritepal.core.hal_compression - Started worker process 4/4: PID 19936\nDEBUG - spritepal.hal_worker_19932 - HAL worker process 19932 started\nDEBUG - spritepal.hal_worker_19936 - HAL worker process 19936 started\nDEBUG - spritepal.core.hal_compression - Pool communication test successful\nINFO - spritepal.core.hal_compression - HAL process pool initialized successfully\nINFO - spritepal.core.hal_compression - HAL process pool enabled for enhanced performance\nDEBUG - spritepal.core.injector - SpriteInjector initialized\nINFO - spritepal.core.hal_compression - Initializing HAL compressor\nINFO - spritepal.core.hal_compression - Searching for exhal tool\nDEBUG - spritepal.core.hal_compression - Searching 9 locations for exhal\nINFO - spritepal.core.hal_compression - Found exhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal\nINFO - spritepal.core.hal_compression - Searching for inhal tool\nDEBUG - spritepal.core.hal_compression - Searching 9 locations for inhal\nINFO - spritepal.core.hal_compression - Found inhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nINFO - spritepal.core.hal_compression - HAL compressor initialized with exhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal, inhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nDEBUG - spritepal.core.hal_compression - Pool already initialized\nINFO - spritepal.core.hal_compression - HAL process pool enabled for enhanced performance\nINFO - spritepal.core.sprite_config_loader - Loaded sprite config: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/config/sprite_locations.json\nDEBUG - spritepal.core.rom_injector - ROMInjector initialized with HAL compression support\nINFO - spritepal.core.default_palette_loader - Loaded default palettes: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/config/default_palettes.json\nINFO - spritepal.core.sprite_config_loader - Loaded sprite config: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/config/sprite_locations.json\nINFO - spritepal.core.rom_extractor - ROMExtractor initialized with HAL compression and palette extraction support\nINFO - spritepal.managers.ExtractionManager - ExtractionManager initialized\nDEBUG - spritepal.ManagerRegistry - ExtractionManager created successfully\nDEBUG - spritepal.ManagerRegistry - Creating InjectionManager...\nINFO - spritepal.managers.InjectionManager - InjectionManager initialized\nDEBUG - spritepal.ManagerRegistry - InjectionManager created successfully\nINFO - spritepal.ManagerRegistry - All managers initialized successfully\n------------------------------ Captured log setup ------------------------------\nINFO     spritepal.ManagerRegistry:registry.py:88 Initializing managers...\nWARNING  spritepal.ManagerRegistry:registry.py:93 No QApplication instance found - managers will have no Qt parent\nDEBUG    spritepal.ManagerRegistry:registry.py:105 Creating SessionManager...\nINFO     spritepal.managers.SessionManager:session_manager.py:71 Settings loaded successfully\nINFO     spritepal.managers.SessionManager:session_manager.py:56 SessionManager initialized with settings file: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/.testapp_settings.json\nDEBUG    spritepal.ManagerRegistry:registry.py:112 SessionManager created successfully\nDEBUG    spritepal.ManagerRegistry:registry.py:115 Creating ExtractionManager...\nDEBUG    spritepal.core.extractor:extractor.py:38 SpriteExtractor initialized: offset=0xC000, size=16384, tiles_per_row=16\nDEBUG    spritepal.core.rom_extractor:rom_extractor.py:65 Initializing ROMExtractor\nINFO     spritepal.core.hal_compression:hal_compression.py:853 Initializing HAL compressor\nINFO     spritepal.core.hal_compression:hal_compression.py:880 Searching for exhal tool\nDEBUG    spritepal.core.hal_compression:hal_compression.py:911 Searching 9 locations for exhal\nINFO     spritepal.core.hal_compression:hal_compression.py:915 Found exhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal\nINFO     spritepal.core.hal_compression:hal_compression.py:880 Searching for inhal tool\nDEBUG    spritepal.core.hal_compression:hal_compression.py:911 Searching 9 locations for inhal\nINFO     spritepal.core.hal_compression:hal_compression.py:915 Found inhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nINFO     spritepal.core.hal_compression:hal_compression.py:857 HAL compressor initialized with exhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal, inhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nINFO     spritepal.core.hal_compression:hal_compression.py:317 HALProcessPool singleton initialized\nINFO     spritepal.core.hal_compression:hal_compression.py:361 Starting HAL process pool with 4 workers\nDEBUG    spritepal.core.hal_compression:hal_compression.py:371 Started worker process 1/4: PID 19928\nDEBUG    spritepal.core.hal_compression:hal_compression.py:371 Started worker process 2/4: PID 19929\nDEBUG    spritepal.core.hal_compression:hal_compression.py:371 Started worker process 3/4: PID 19932\nDEBUG    spritepal.core.hal_compression:hal_compression.py:371 Started worker process 4/4: PID 19936\nDEBUG    spritepal.core.hal_compression:hal_compression.py:390 Pool communication test successful\nINFO     spritepal.core.hal_compression:hal_compression.py:395 HAL process pool initialized successfully\nINFO     spritepal.core.hal_compression:hal_compression.py:868 HAL process pool enabled for enhanced performance\nDEBUG    spritepal.core.injector:injector.py:67 SpriteInjector initialized\nINFO     spritepal.core.hal_compression:hal_compression.py:853 Initializing HAL compressor\nINFO     spritepal.core.hal_compression:hal_compression.py:880 Searching for exhal tool\nDEBUG    spritepal.core.hal_compression:hal_compression.py:911 Searching 9 locations for exhal\nINFO     spritepal.core.hal_compression:hal_compression.py:915 Found exhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal\nINFO     spritepal.core.hal_compression:hal_compression.py:880 Searching for inhal tool\nDEBUG    spritepal.core.hal_compression:hal_compression.py:911 Searching 9 locations for inhal\nINFO     spritepal.core.hal_compression:hal_compression.py:915 Found inhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nINFO     spritepal.core.hal_compression:hal_compression.py:857 HAL compressor initialized with exhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal, inhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nDEBUG    spritepal.core.hal_compression:hal_compression.py:345 Pool already initialized\nINFO     spritepal.core.hal_compression:hal_compression.py:868 HAL process pool enabled for enhanced performance\nINFO     spritepal.core.sprite_config_loader:sprite_config_loader.py:56 Loaded sprite config: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/config/sprite_locations.json\nDEBUG    spritepal.core.rom_injector:rom_injector.py:65 ROMInjector initialized with HAL compression support\nINFO     spritepal.core.default_palette_loader:default_palette_loader.py:42 Loaded default palettes: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/config/default_palettes.json\nINFO     spritepal.core.sprite_config_loader:sprite_config_loader.py:56 Loaded sprite config: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/config/sprite_locations.json\nINFO     spritepal.core.rom_extractor:rom_extractor.py:71 ROMExtractor initialized with HAL compression and palette extraction support\nINFO     spritepal.managers.ExtractionManager:extraction_manager.py:64 ExtractionManager initialized\nDEBUG    spritepal.ManagerRegistry:registry.py:121 ExtractionManager created successfully\nDEBUG    spritepal.ManagerRegistry:registry.py:123 Creating InjectionManager...\nINFO     spritepal.managers.InjectionManager:injection_manager.py:59 InjectionManager initialized\nDEBUG    spritepal.ManagerRegistry:registry.py:129 InjectionManager created successfully\nINFO     spritepal.ManagerRegistry:registry.py:140 All managers initialized successfully\n----------------------------- Captured stderr call -----------------------------\nDEBUG - spritepal.hal_worker_19929 - Worker process 19929: Queue error, exiting: \nDEBUG - spritepal.hal_worker_19929 - HAL worker process 19929 exiting\nDEBUG - spritepal.hal_worker_19936 - Worker process 19936: Queue error, exiting: \nDEBUG - spritepal.hal_worker_19936 - HAL worker process 19936 exiting\nDEBUG - spritepal.hal_worker_19928 - Worker process 19928: Queue error, exiting: \nDEBUG - spritepal.hal_worker_19928 - HAL worker process 19928 exiting\nDEBUG - spritepal.hal_worker_19932 - Worker process 19932: Queue error, exiting: \nDEBUG - spritepal.hal_worker_19932 - HAL worker process 19932 exiting\n--------------------------- Captured stderr teardown ---------------------------\nINFO - spritepal.ManagerRegistry - Cleaning up managers...\nDEBUG - spritepal.ManagerRegistry - Cleaned up injection manager\nDEBUG - spritepal.ManagerRegistry - Cleaned up extraction manager\nDEBUG - spritepal.ManagerRegistry - Cleaned up session manager\nDEBUG - spritepal.ManagerRegistry - Manager 'extraction' was garbage collected\nDEBUG - spritepal.ManagerRegistry - Manager 'injection' was garbage collected\nINFO - spritepal.core.hal_compression - Shutting down HAL process pool (PIDs: [19928, 19929, 19932, 19936])\nDEBUG - spritepal.core.hal_compression - Process 19928 already terminated, skipping shutdown signal\nDEBUG - spritepal.core.hal_compression - Process 19929 already terminated, skipping shutdown signal\nDEBUG - spritepal.core.hal_compression - Process 19932 already terminated, skipping shutdown signal\nDEBUG - spritepal.core.hal_compression - Process 19936 already terminated, skipping shutdown signal\nDEBUG - spritepal.core.hal_compression - Sent 0 shutdown signals to 4 processes\nDEBUG - spritepal.core.hal_compression - Process 19928 already terminated\nDEBUG - spritepal.core.hal_compression - Process 19929 already terminated\nDEBUG - spritepal.core.hal_compression - Process 19932 already terminated\nDEBUG - spritepal.core.hal_compression - Process 19936 already terminated\nDEBUG - spritepal.core.hal_compression - Shutting down multiprocessing manager\nDEBUG - spritepal.core.hal_compression - Manager shutdown completed successfully\nINFO - spritepal.core.hal_compression - HAL process pool shutdown complete\nDEBUG - spritepal.ManagerRegistry - Cleaned up HAL process pool\nDEBUG - spritepal.spritepal.core.managers.context - Cleared current context in thread MainThread\nDEBUG - spritepal.ManagerRegistry - Cleared context manager references\nINFO - spritepal.ManagerRegistry - All managers cleaned up\n---------------------------- Captured log teardown -----------------------------\nINFO     spritepal.ManagerRegistry:registry.py:163 Cleaning up managers...\nDEBUG    spritepal.ManagerRegistry:registry.py:170 Cleaned up injection manager\nDEBUG    spritepal.ManagerRegistry:registry.py:170 Cleaned up extraction manager\nDEBUG    spritepal.ManagerRegistry:registry.py:170 Cleaned up session manager\nDEBUG    spritepal.ManagerRegistry:registry.py:66 Manager 'extraction' was garbage collected\nDEBUG    spritepal.ManagerRegistry:registry.py:66 Manager 'injection' was garbage collected\nINFO     spritepal.core.hal_compression:hal_compression.py:528 Shutting down HAL process pool (PIDs: [19928, 19929, 19932, 19936])\nDEBUG    spritepal.core.hal_compression:hal_compression.py:561 Process 19928 already terminated, skipping shutdown signal\nDEBUG    spritepal.core.hal_compression:hal_compression.py:561 Process 19929 already terminated, skipping shutdown signal\nDEBUG    spritepal.core.hal_compression:hal_compression.py:561 Process 19932 already terminated, skipping shutdown signal\nDEBUG    spritepal.core.hal_compression:hal_compression.py:561 Process 19936 already terminated, skipping shutdown signal\nDEBUG    spritepal.core.hal_compression:hal_compression.py:568 Sent 0 shutdown signals to 4 processes\nDEBUG    spritepal.core.hal_compression:hal_compression.py:583 Process 19928 already terminated\nDEBUG    spritepal.core.hal_compression:hal_compression.py:583 Process 19929 already terminated\nDEBUG    spritepal.core.hal_compression:hal_compression.py:583 Process 19932 already terminated\nDEBUG    spritepal.core.hal_compression:hal_compression.py:583 Process 19936 already terminated\nDEBUG    spritepal.core.hal_compression:hal_compression.py:666 Shutting down multiprocessing manager\nDEBUG    spritepal.core.hal_compression:hal_compression.py:675 Manager shutdown completed successfully\nINFO     spritepal.core.hal_compression:hal_compression.py:692 HAL process pool shutdown complete\nDEBUG    spritepal.ManagerRegistry:registry.py:184 Cleaned up HAL process pool\nDEBUG    spritepal.spritepal.core.managers.context:context.py:271 Cleared current context in thread MainThread\nDEBUG    spritepal.ManagerRegistry:registry.py:194 Cleared context manager references\nINFO     spritepal.ManagerRegistry:registry.py:198 All managers cleaned up\n=========================== short test summary info ============================\nFAILED tests/test_qt_threading_patterns.py::TestQThreadPatterns::test_movetothread_pattern - assert False\n +  where False = <built-in method wait of QThread object at 0x7f222881d310>(1000)\n +    where <built-in method wait of QThread object at 0x7f222881d310> = <PyQt6.QtCore.QThread object at 0x7f222881d310>.wait\n!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!!\n============================== 1 failed in 3.30s ===============================\n",
      "stderr": "--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/context.py\", line 346, in _cleanup_context_manager\n    _context_manager._cleanup_all_threads()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/context.py\", line 334, in _cleanup_all_threads\n    logger.debug(\"Cleaned up all thread context references\")\nMessage: 'Cleaned up all thread context references'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/context.py\", line 334, in _cleanup_all_threads\n    logger.debug(\"Cleaned up all thread context references\")\nMessage: 'Cleaned up all thread context references'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 342, in _cleanup_global_registry\n    _registry.cleanup_managers()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 163, in cleanup_managers\n    self._logger.info(\"Cleaning up managers...\")\nMessage: 'Cleaning up managers...'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 342, in _cleanup_global_registry\n    _registry.cleanup_managers()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 184, in cleanup_managers\n    self._logger.debug(\"Cleaned up HAL process pool\")\nMessage: 'Cleaned up HAL process pool'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 342, in _cleanup_global_registry\n    _registry.cleanup_managers()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 193, in cleanup_managers\n    _context_manager.set_current_context(None)\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/context.py\", line 271, in set_current_context\n    logger.debug(f\"Cleared current context in thread {current_thread.name}\")\nMessage: 'Cleared current context in thread MainThread'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 342, in _cleanup_global_registry\n    _registry.cleanup_managers()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 194, in cleanup_managers\n    self._logger.debug(\"Cleared context manager references\")\nMessage: 'Cleared context manager references'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 342, in _cleanup_global_registry\n    _registry.cleanup_managers()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 198, in cleanup_managers\n    self._logger.info(\"All managers cleaned up\")\nMessage: 'All managers cleaned up'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 342, in _cleanup_global_registry\n    _registry.cleanup_managers()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 163, in cleanup_managers\n    self._logger.info(\"Cleaning up managers...\")\nMessage: 'Cleaning up managers...'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 342, in _cleanup_global_registry\n    _registry.cleanup_managers()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 184, in cleanup_managers\n    self._logger.debug(\"Cleaned up HAL process pool\")\nMessage: 'Cleaned up HAL process pool'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 342, in _cleanup_global_registry\n    _registry.cleanup_managers()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 193, in cleanup_managers\n    _context_manager.set_current_context(None)\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/context.py\", line 271, in set_current_context\n    logger.debug(f\"Cleared current context in thread {current_thread.name}\")\nMessage: 'Cleared current context in thread MainThread'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 342, in _cleanup_global_registry\n    _registry.cleanup_managers()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 194, in cleanup_managers\n    self._logger.debug(\"Cleared context manager references\")\nMessage: 'Cleared context manager references'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 342, in _cleanup_global_registry\n    _registry.cleanup_managers()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/managers/registry.py\", line 198, in cleanup_managers\n    self._logger.info(\"All managers cleaned up\")\nMessage: 'All managers cleaned up'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/hal_compression.py\", line 1314, in _cleanup_hal_singleton\n    HALProcessPool.reset_singleton()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/hal_compression.py\", line 831, in reset_singleton\n    cls._instance.force_reset()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/hal_compression.py\", line 779, in force_reset\n    logger.warning(\"Force resetting HAL process pool\")\nMessage: 'Force resetting HAL process pool'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/hal_compression.py\", line 1314, in _cleanup_hal_singleton\n    HALProcessPool.reset_singleton()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/hal_compression.py\", line 831, in reset_singleton\n    cls._instance.force_reset()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/hal_compression.py\", line 823, in force_reset\n    logger.debug(\"HAL process pool force reset complete\")\nMessage: 'HAL process pool force reset complete'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1163, in emit\n    stream.write(msg + self.terminator)\nValueError: I/O operation on closed file.\nCall stack:\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/hal_compression.py\", line 1314, in _cleanup_hal_singleton\n    HALProcessPool.reset_singleton()\n  File \"/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/hal_compression.py\", line 836, in reset_singleton\n    logger.debug(\"HAL process pool singleton reset\")\nMessage: 'HAL process pool singleton reset'\nArguments: ()\n",
      "returncode": 1
    }
  ],
  "architecture_analysis": {
    "casting_approach": {
      "description": "Strategic type casting to access signals while preserving protocols",
      "implementation": "cast(InjectionManager, self.injection_manager)",
      "location": "core/controller.py lines 208-219",
      "benefits": [
        "Enables signal access without exposing implementation details",
        "Preserves protocol-based architecture",
        "Zero runtime overhead",
        "Type-safe with proper annotations"
      ],
      "verified": true
    },
    "signal_connections": {
      "injection_manager": [
        "injection_progress",
        "injection_finished",
        "cache_saved"
      ],
      "extraction_manager": [
        "extraction_progress",
        "extraction_finished",
        "cache_operation_started",
        "cache_hit",
        "cache_miss",
        "cache_saved"
      ]
    },
    "threading_patterns": {
      "worker_pattern": "QThread with moveToThread()",
      "signal_delivery": "QueuedConnection for cross-thread",
      "synchronization": "QMutex and signal-based coordination",
      "cleanup": "WorkerManager.cleanup_worker() with timeout"
    }
  },
  "protocol_compliance": {
    "output": "InjectionManager complies: True\nExtractionManager complies: True\n\nInjectionManager signals:\n  injection_progress: True\n  injection_finished: True\n  compression_info: True\n  progress_percent: True\n  cache_saved: True\n\nExtractionManager signals:\n  extraction_progress: True\n  preview_generated: True\n  palettes_extracted: True\n  active_palettes_found: True\n  files_created: True\n  cache_operation_started: True\n  cache_hit: True\n  cache_miss: True\n  cache_saved: True\n",
    "errors": "INFO - spritepal.ManagerRegistry - ManagerRegistry initialized\nINFO - spritepal.managers.InjectionManager - InjectionManager initialized\nDEBUG - spritepal.core.extractor - SpriteExtractor initialized: offset=0xC000, size=16384, tiles_per_row=16\nDEBUG - spritepal.core.rom_extractor - Initializing ROMExtractor\nINFO - spritepal.core.hal_compression - Initializing HAL compressor\nINFO - spritepal.core.hal_compression - Searching for exhal tool\nDEBUG - spritepal.core.hal_compression - Searching 9 locations for exhal\nINFO - spritepal.core.hal_compression - Found exhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal\nINFO - spritepal.core.hal_compression - Searching for inhal tool\nDEBUG - spritepal.core.hal_compression - Searching 9 locations for inhal\nINFO - spritepal.core.hal_compression - Found inhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nINFO - spritepal.core.hal_compression - HAL compressor initialized with exhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal, inhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nINFO - spritepal.core.hal_compression - HALProcessPool singleton initialized\nINFO - spritepal.core.hal_compression - Starting HAL process pool with 4 workers\nDEBUG - spritepal.core.hal_compression - Started worker process 1/4: PID 19786\nDEBUG - spritepal.core.hal_compression - Started worker process 2/4: PID 19788\nDEBUG - spritepal.core.hal_compression - Started worker process 3/4: PID 19789\nDEBUG - spritepal.core.hal_compression - Started worker process 4/4: PID 19792\nDEBUG - spritepal.hal_worker_19786 - HAL worker process 19786 started\nDEBUG - spritepal.hal_worker_19788 - HAL worker process 19788 started\nDEBUG - spritepal.hal_worker_19789 - HAL worker process 19789 started\nDEBUG - spritepal.hal_worker_19792 - HAL worker process 19792 started\nDEBUG - spritepal.core.hal_compression - Pool communication test successful\nINFO - spritepal.core.hal_compression - HAL process pool initialized successfully\nINFO - spritepal.core.hal_compression - HAL process pool enabled for enhanced performance\nDEBUG - spritepal.core.injector - SpriteInjector initialized\nINFO - spritepal.core.hal_compression - Initializing HAL compressor\nINFO - spritepal.core.hal_compression - Searching for exhal tool\nDEBUG - spritepal.core.hal_compression - Searching 9 locations for exhal\nINFO - spritepal.core.hal_compression - Found exhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal\nINFO - spritepal.core.hal_compression - Searching for inhal tool\nDEBUG - spritepal.core.hal_compression - Searching 9 locations for inhal\nINFO - spritepal.core.hal_compression - Found inhal at location 1/9: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nINFO - spritepal.core.hal_compression - HAL compressor initialized with exhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/exhal, inhal=/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tools/inhal\nDEBUG - spritepal.core.hal_compression - Pool already initialized\nINFO - spritepal.core.hal_compression - HAL process pool enabled for enhanced performance\nINFO - spritepal.core.sprite_config_loader - Loaded sprite config: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/config/sprite_locations.json\nDEBUG - spritepal.core.rom_injector - ROMInjector initialized with HAL compression support\nINFO - spritepal.core.default_palette_loader - Loaded default palettes: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/config/default_palettes.json\nINFO - spritepal.core.sprite_config_loader - Loaded sprite config: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/config/sprite_locations.json\nINFO - spritepal.core.rom_extractor - ROMExtractor initialized with HAL compression and palette extraction support\nINFO - spritepal.managers.ExtractionManager - ExtractionManager initialized\nDEBUG - spritepal.hal_worker_19789 - Worker process 19789: Request queue closed, exiting: \nDEBUG - spritepal.hal_worker_19786 - Worker process 19786: Request queue closed, exiting: \nDEBUG - spritepal.hal_worker_19786 - HAL worker process 19786 exiting\nDEBUG - spritepal.hal_worker_19789 - HAL worker process 19789 exiting\nDEBUG - spritepal.hal_worker_19792 - Worker process 19792: Request queue closed, exiting: \nDEBUG - spritepal.hal_worker_19792 - HAL worker process 19792 exiting\nDEBUG - spritepal.hal_worker_19788 - Worker process 19788: Request queue closed, exiting: \nDEBUG - spritepal.hal_worker_19788 - HAL worker process 19788 exiting\nINFO - spritepal.core.hal_compression - Shutting down HAL process pool (PIDs: [19786, 19788, 19789, 19792])\nDEBUG - spritepal.core.hal_compression - Process 19786 already terminated, skipping shutdown signal\nDEBUG - spritepal.core.hal_compression - Process 19788 already terminated, skipping shutdown signal\nDEBUG - spritepal.core.hal_compression - Process 19789 already terminated, skipping shutdown signal\nDEBUG - spritepal.core.hal_compression - Process 19792 already terminated, skipping shutdown signal\nDEBUG - spritepal.core.hal_compression - Sent 0 shutdown signals to 4 processes\nDEBUG - spritepal.core.hal_compression - Process 19786 already terminated\nDEBUG - spritepal.core.hal_compression - Process 19788 already terminated\nDEBUG - spritepal.core.hal_compression - Process 19789 already terminated\nDEBUG - spritepal.core.hal_compression - Process 19792 already terminated\nDEBUG - spritepal.core.hal_compression - Shutting down multiprocessing manager\nDEBUG - spritepal.core.hal_compression - Manager shutdown completed successfully\nINFO - spritepal.core.hal_compression - HAL process pool shutdown complete\nINFO - spritepal.ManagerRegistry - Cleaning up managers...\nDEBUG - spritepal.ManagerRegistry - Cleaned up HAL process pool\nDEBUG - spritepal.core.managers.context - Cleared current context in thread MainThread\nDEBUG - spritepal.ManagerRegistry - Cleared context manager references\nINFO - spritepal.ManagerRegistry - All managers cleaned up\nWARNING - spritepal.core.hal_compression - Force resetting HAL process pool\nDEBUG - spritepal.core.hal_compression - HAL process pool force reset complete\nDEBUG - spritepal.core.hal_compression - HAL process pool singleton reset\n",
    "success": true
  },
  "timestamp": "2025-08-05T17:20:19.493365"
}