============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.4.0, pluggy-1.6.0 -- /usr/bin/python3
cachedir: .pytest_cache
PyQt6 6.9.1 -- Qt runtime 6.9.1 -- Qt compiled 6.9.0
rootdir: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal
configfile: pytest.ini
plugins: qt-4.4.0, cov-6.2.1, mock-3.14.1
collecting ... collected 213 items / 2 deselected / 211 selected

tests/test_constants.py::TestConstants::test_memory_offsets PASSED       [  0%]
tests/test_constants.py::TestConstants::test_sprite_format_constants PASSED [  0%]
tests/test_constants.py::TestConstants::test_palette_constants PASSED    [  1%]
tests/test_constants.py::TestConstants::test_file_extensions PASSED      [  1%]
tests/test_constants.py::TestConstants::test_palette_info PASSED         [  2%]
tests/test_constants.py::TestConstants::test_file_patterns PASSED        [  2%]
tests/test_controller.py::TestControllerImports::test_controller_imports PASSED [  3%]
tests/test_controller.py::TestControllerImports::test_pil_to_qpixmap_import PASSED [  3%]
tests/test_controller.py::TestExtractionController::test_init_connects_signals PASSED [  4%]
tests/test_controller.py::TestExtractionController::test_parameter_validation_missing_vram PASSED [  4%]
tests/test_controller.py::TestExtractionController::test_parameter_validation_missing_cgram PASSED [  5%]
tests/test_controller.py::TestExtractionController::test_parameter_validation_missing_both PASSED [  5%]
tests/test_controller.py::TestExtractionController::test_start_extraction_valid_params PASSED [  6%]
tests/test_controller.py::TestExtractionController::test_on_progress_handler PASSED [  6%]
tests/test_controller.py::TestExtractionController::test_on_preview_ready_handler PASSED [  7%]
tests/test_controller.py::TestExtractionController::test_on_preview_image_ready_handler PASSED [  7%]
tests/test_controller.py::TestExtractionController::test_on_palettes_ready_handler PASSED [  8%]
tests/test_controller.py::TestExtractionController::test_on_active_palettes_ready_handler PASSED [  8%]
tests/test_controller.py::TestExtractionController::test_on_extraction_finished_handler PASSED [  9%]
tests/test_controller.py::TestExtractionController::test_on_extraction_error_handler PASSED [  9%]
tests/test_controller.py::TestExtractionController::test_open_in_editor_launcher_found PASSED [  9%]
tests/test_controller.py::TestExtractionController::test_open_in_editor_launcher_in_subdirectory PASSED [ 10%]
tests/test_controller.py::TestExtractionController::test_open_in_editor_launcher_in_parent_directory PASSED [ 10%]
tests/test_controller.py::TestExtractionController::test_open_in_editor_launcher_not_found PASSED [ 11%]
tests/test_controller.py::TestExtractionController::test_open_in_editor_subprocess_error PASSED [ 11%]
tests/test_controller.py::TestExtractionWorker::test_init_creates_components PASSED [ 12%]
tests/test_controller.py::TestExtractionWorker::test_create_pixmap_from_image_valid_pil PASSED [ 12%]
tests/test_controller.py::TestExtractionWorker::test_create_pixmap_from_image_invalid_format PASSED [ 13%]
tests/test_controller.py::TestExtractionWorker::test_run_full_workflow_success PASSED [ 13%]
tests/test_controller.py::TestExtractionWorker::test_run_error_handling PASSED [ 14%]
tests/test_controller.py::TestExtractionWorker::test_run_without_cgram PASSED [ 14%]
tests/test_controller.py::TestExtractionWorker::test_run_without_oam PASSED [ 15%]
tests/test_controller.py::TestExtractionWorker::test_run_without_metadata_creation PASSED [ 15%]
tests/test_controller.py::TestExtractionWorker::test_run_without_grayscale_creation PASSED [ 16%]
tests/test_controller.py::TestExtractionWorker::test_signal_emission_order PASSED [ 16%]
tests/test_controller.py::TestControllerWorkerIntegration::test_worker_signals_connected_to_controller PASSED [ 17%]
tests/test_controller.py::TestControllerWorkerIntegration::test_full_signal_chain_simulation PASSED [ 17%]
tests/test_controller.py::TestControllerWorkerIntegration::test_error_signal_chain_simulation PASSED [ 18%]
tests/test_controller.py::TestControllerWorkerIntegration::test_worker_cleanup_on_completion PASSED [ 18%]
tests/test_controller.py::TestControllerWorkerIntegration::test_worker_cleanup_on_error PASSED [ 18%]
tests/test_controller.py::TestControllerWorkerIntegration::test_concurrent_extraction_handling PASSED [ 19%]
tests/test_exceptions.py::TestExceptions::test_sprite_pal_error_base PASSED [ 19%]
tests/test_exceptions.py::TestExceptions::test_vram_error PASSED         [ 20%]
tests/test_exceptions.py::TestExceptions::test_cgram_error PASSED        [ 20%]
tests/test_exceptions.py::TestExceptions::test_oam_error PASSED          [ 21%]
tests/test_exceptions.py::TestExceptions::test_extraction_error PASSED   [ 21%]
tests/test_exceptions.py::TestExceptions::test_injection_error PASSED    [ 22%]
tests/test_exceptions.py::TestExceptions::test_validation_error PASSED   [ 22%]
tests/test_exceptions.py::TestExceptions::test_file_format_error PASSED  [ 23%]
tests/test_exceptions.py::TestExceptions::test_tile_error PASSED         [ 23%]
tests/test_exceptions.py::TestExceptions::test_exception_with_no_message PASSED [ 24%]
tests/test_exceptions.py::TestExceptions::test_exception_inheritance_chain PASSED [ 24%]
tests/test_exceptions.py::TestExceptions::test_exception_catch_hierarchy PASSED [ 25%]
tests/test_exceptions.py::TestExceptions::test_exception_attributes PASSED [ 25%]
tests/test_extractor.py::TestSpriteExtractor::test_init PASSED           [ 26%]
tests/test_extractor.py::TestSpriteExtractor::test_load_vram PASSED      [ 26%]
tests/test_extractor.py::TestSpriteExtractor::test_decode_4bpp_tile PASSED [ 27%]
tests/test_extractor.py::TestSpriteExtractor::test_extract_tiles PASSED  [ 27%]
tests/test_extractor.py::TestSpriteExtractor::test_extract_tiles_custom_offset PASSED [ 27%]
tests/test_extractor.py::TestSpriteExtractor::test_extract_tiles_boundary_check PASSED [ 28%]
tests/test_extractor.py::TestSpriteExtractor::test_create_grayscale_image_dimensions[16-128] PASSED [ 28%]
tests/test_extractor.py::TestSpriteExtractor::test_create_grayscale_image_dimensions[8-64] PASSED [ 29%]
tests/test_extractor.py::TestSpriteExtractor::test_create_grayscale_image_dimensions[32-256] PASSED [ 29%]
tests/test_extractor.py::TestSpriteExtractor::test_extract_sprites_grayscale PASSED [ 30%]
tests/test_injector.py::TestEncode4bppTile::test_encode_simple_tile PASSED [ 30%]
tests/test_injector.py::TestEncode4bppTile::test_encode_solid_color_tile PASSED [ 31%]
tests/test_injector.py::TestEncode4bppTile::test_encode_invalid_tile_size PASSED [ 31%]
tests/test_injector.py::TestEncode4bppTile::test_encode_values_clamped PASSED [ 32%]
tests/test_injector.py::TestSpriteInjector::test_load_metadata PASSED    [ 32%]
tests/test_injector.py::TestSpriteInjector::test_validate_sprite_valid PASSED [ 33%]
tests/test_injector.py::TestSpriteInjector::test_validate_sprite_wrong_mode PASSED [ 33%]
tests/test_injector.py::TestSpriteInjector::test_validate_sprite_wrong_dimensions PASSED [ 34%]
tests/test_injector.py::TestSpriteInjector::test_validate_sprite_too_many_colors PASSED [ 34%]
tests/test_injector.py::TestSpriteInjector::test_validate_sprite_256_palette_16_colors_used PASSED [ 35%]
tests/test_injector.py::TestSpriteInjector::test_validate_sprite_nonexistent PASSED [ 35%]
tests/test_injector.py::TestSpriteInjector::test_convert_png_to_4bpp PASSED [ 36%]
tests/test_injector.py::TestSpriteInjector::test_convert_png_to_4bpp_rgb_mode PASSED [ 36%]
tests/test_injector.py::TestSpriteInjector::test_inject_sprite_success PASSED [ 36%]
tests/test_injector.py::TestSpriteInjector::test_inject_sprite_with_metadata_offset PASSED [ 37%]
tests/test_injector.py::TestSpriteInjector::test_inject_sprite_offset_too_large PASSED [ 37%]
tests/test_injector.py::TestSpriteInjector::test_inject_sprite_file_error PASSED [ 38%]
tests/test_injector.py::TestSpriteInjector::test_get_extraction_info PASSED [ 38%]
tests/test_injector.py::TestSpriteInjector::test_get_extraction_info_no_metadata PASSED [ 39%]
tests/test_injector.py::TestInjectionWorker::test_worker_successful_injection PASSED [ 39%]
tests/test_injector.py::TestInjectionWorker::test_worker_with_metadata PASSED [ 40%]
tests/test_injector.py::TestInjectionWorker::test_worker_validation_failure PASSED [ 40%]
tests/test_injector.py::TestInjectionWorker::test_worker_exception_handling PASSED [ 41%]
tests/test_integration.py::TestEndToEndWorkflow::test_extractor_palette_manager_integration PASSED [ 41%]
tests/test_integration.py::TestEndToEndWorkflow::test_multiple_palette_extraction PASSED [ 42%]
tests/test_integration.py::TestRealFilePatterns::test_vram_pattern_matching PASSED [ 42%]
tests/test_integration.py::TestRealFilePatterns::test_complete_workflow_with_metadata PASSED [ 43%]
tests/test_integration.py::TestFullWorkflowIntegration::test_complete_ui_controller_worker_integration Fatal Python error: Aborted

Current thread 0x00007fbec6d8f080 (most recent call first):
  File "/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/utils/image_utils.py", line 32 in pil_to_qpixmap
  File "/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/controller.py", line 137 in _create_pixmap_from_image
  File "/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/core/controller.py", line 66 in run
  File "/mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal/tests/test_integration.py", line 512 in test_complete_ui_controller_worker_integration
  File "/home/gabrielh/.local/lib/python3.12/site-packages/_pytest/python.py", line 156 in pytest_pyfunc_call
  File "/home/gabrielh/.local/lib/python3.12/site-packages/pluggy/_callers.py", line 121 in _multicall
  File "/home/gabrielh/.local/lib/python3.12/site-packages/pluggy/_manager.py", line 120 in _hookexec
  File "/home/gabrielh/.local/lib/python3.12/site-packages/pluggy/_hooks.py", line 512 in __call__
  File "/home/gabrielh/.local/lib/python3.12/site-packages/_pytest/python.py", line 1670 in runtest
  File "/home/gabrielh/.local/lib/python3.12/site-packages/_pytest/runner.py", line 178 in pytest_runtest_call
  File "/home/gabrielh/.local/lib/python3.12/site-packages/pluggy/_callers.py", line 121 in _multicall
  File "/home/gabrielh/.local/lib/python3.12/site-packages/pluggy/_manager.py", line 120 in _hookexec
  File "/home/gabrielh/.local/lib/python3.12/site-packages/pluggy/_hooks.py", line 512 in __call__
  File "/home/gabrielh/.local/lib/python3.12/site-packages/_pytest/runner.py", line 246 in <lambda>
  File "/home/gabrielh/.local/lib/python3.12/site-packages/_pytest/runner.py", line 344 in from_call
  File "/home/gabrielh/.local/lib/python3.12/site-packages/_pytest/runner.py", line 245 in call_and_report
  File "/home/gabrielh/.local/lib/python3.12/site-packages/_pytest/runner.py", line 136 in runtestprotocol
  File "/home/gabrielh/.local/lib/python3.12/site-packages/_pytest/runner.py", line 117 in pytest_runtest_protocol
  File "/home/gabrielh/.local/lib/python3.12/site-packages/pluggy/_callers.py", line 121 in _multicall
  File "/home/gabrielh/.local/lib/python3.12/site-packages/pluggy/_manager.py", line 120 in _hookexec
  File "/home/gabrielh/.local/lib/python3.12/site-packages/pluggy/_hooks.py", line 512 in __call__
  File "/home/gabrielh/.local/lib/python3.12/site-packages/_pytest/main.py", line 367 in pytest_runtestloop
  File "/home/gabrielh/.local/lib/python3.12/site-packages/pluggy/_callers.py", line 121 in _multicall
  File "/home/gabrielh/.local/lib/python3.12/site-packages/pluggy/_manager.py", line 120 in _hookexec
  File "/home/gabrielh/.local/lib/python3.12/site-packages/pluggy/_hooks.py", line 512 in __call__
  File "/home/gabrielh/.local/lib/python3.12/site-packages/_pytest/main.py", line 343 in _main
  File "/home/gabrielh/.local/lib/python3.12/site-packages/_pytest/main.py", line 289 in wrap_session
  File "/home/gabrielh/.local/lib/python3.12/site-packages/_pytest/main.py", line 336 in pytest_cmdline_main
  File "/home/gabrielh/.local/lib/python3.12/site-packages/pluggy/_callers.py", line 121 in _multicall
  File "/home/gabrielh/.local/lib/python3.12/site-packages/pluggy/_manager.py", line 120 in _hookexec
  File "/home/gabrielh/.local/lib/python3.12/site-packages/pluggy/_hooks.py", line 512 in __call__
  File "/home/gabrielh/.local/lib/python3.12/site-packages/_pytest/config/__init__.py", line 175 in main
  File "/home/gabrielh/.local/lib/python3.12/site-packages/_pytest/config/__init__.py", line 201 in console_main
  File "/home/gabrielh/.local/lib/python3.12/site-packages/pytest/__main__.py", line 9 in <module>
  File "<frozen runpy>", line 88 in _run_code
  File "<frozen runpy>", line 198 in _run_module_as_main

Extension modules: PyQt6.QtCore, PyQt6.QtGui, PyQt6.QtWidgets, PyQt6.QtTest, PIL._imaging, PIL._imagingmath (total: 6)
