============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.4.1, pluggy-1.6.0 -- /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/venv/bin/python
cachedir: .pytest_cache
PyQt6 6.9.1 -- Qt runtime 6.9.1 -- Qt compiled 6.9.0
rootdir: /mnt/c/CustomScripts/KirbyMax/workshop/exhal-master/spritepal
configfile: pytest.ini
plugins: anyio-4.9.0, cov-6.2.1, qt-4.5.0, timeout-2.4.0
collecting ... collected 1 item

tests/test_comprehensive_dialog_migrations.py::TestComprehensiveDialogMigrations::test_dialog_layout_architecture_consistency Failed to create wl_display (No such file or directory)
qt.qpa.plugin: Could not load the Qt platform plugin "wayland" in "" even though it was found.
DEBUG add_panel: RowArrangementDialog adding <PyQt6.QtWidgets.QSplitter object at 0x7fd11b295bd0> to main_splitter <PyQt6.QtWidgets.QSplitter object at 0x7fd11b295b30>
DEBUG add_panel: main_splitter is None: False
DEBUG add_panel: bool(main_splitter): True
DEBUG add_panel: Before addWidget, count = 1
DEBUG add_panel: After addWidget, count = 1
DEBUG add_panel: After setStretchFactor, count = 1
DEBUG add_panel: RowArrangementDialog adding <PyQt6.QtWidgets.QGroupBox object at 0x7fd11b297f70> to main_splitter <PyQt6.QtWidgets.QSplitter object at 0x7fd11b295b30>
DEBUG add_panel: main_splitter is None: False
DEBUG add_panel: bool(main_splitter): True
DEBUG add_panel: Before addWidget, count = 1
DEBUG add_panel: After addWidget, count = 2
DEBUG add_panel: After setStretchFactor, count = 2

DEBUG: main_splitter = <PyQt6.QtWidgets.QSplitter object at 0x7fd11b295b30>
DEBUG: main_splitter type = <class 'PyQt6.QtWidgets.QSplitter'>
DEBUG: main_splitter count = 2
DEBUG: Widget 0: <PyQt6.QtWidgets.QSplitter object at 0x7fd11b295bd0> (type: QSplitter)
DEBUG: Widget 1: <PyQt6.QtWidgets.QGroupBox object at 0x7fd11b297f70> (type: QGroupBox)
DEBUG add_panel: GridArrangementDialog adding <PyQt6.QtWidgets.QWidget object at 0x7fd11b2b0b90> to main_splitter <PyQt6.QtWidgets.QSplitter object at 0x7fd11b2b0af0>
DEBUG add_panel: main_splitter is None: False
DEBUG add_panel: bool(main_splitter): False
DEBUG add_panel: GridArrangementDialog adding <PyQt6.QtWidgets.QWidget object at 0x7fd11b2b3890> to main_splitter <PyQt6.QtWidgets.QSplitter object at 0x7fd11b2b0af0>
DEBUG add_panel: main_splitter is None: False
DEBUG add_panel: bool(main_splitter): False

DEBUG GridArrangementDialog: main_splitter = <PyQt6.QtWidgets.QSplitter object at 0x7fd11b2b0af0>
DEBUG GridArrangementDialog: main_splitter type = <class 'PyQt6.QtWidgets.QSplitter'>
FAILED

=================================== FAILURES ===================================
_ TestComprehensiveDialogMigrations.test_dialog_layout_architecture_consistency _
tests/test_comprehensive_dialog_migrations.py:185: in test_dialog_layout_architecture_consistency
    assert grid_dialog.main_splitter.count() == 2  # Left and right panels
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   assert 0 == 2
E    +  where 0 = <built-in method count of QSplitter object at 0x7fd11b2b0af0>()
E    +    where <built-in method count of QSplitter object at 0x7fd11b2b0af0> = <PyQt6.QtWidgets.QSplitter object at 0x7fd11b2b0af0>.count
E    +      where <PyQt6.QtWidgets.QSplitter object at 0x7fd11b2b0af0> = <spritepal.ui.grid_arrangement_dialog.GridArrangementDialog object at 0x7fd11b2b04b0>.main_splitter
------------------------------ Captured log setup ------------------------------
WARNING  spritepal.managers.SessionManager:session_manager.py:64 Could not load settings: Expecting value: line 35 column 33 (char 710)
=========================== short test summary info ============================
FAILED tests/test_comprehensive_dialog_migrations.py::TestComprehensiveDialogMigrations::test_dialog_layout_architecture_consistency - assert 0 == 2
 +  where 0 = <built-in method count of QSplitter object at 0x7fd11b2b0af0>()
 +    where <built-in method count of QSplitter object at 0x7fd11b2b0af0> = <PyQt6.QtWidgets.QSplitter object at 0x7fd11b2b0af0>.count
 +      where <PyQt6.QtWidgets.QSplitter object at 0x7fd11b2b0af0> = <spritepal.ui.grid_arrangement_dialog.GridArrangementDialog object at 0x7fd11b2b04b0>.main_splitter
!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!!
============================== 1 failed in 2.12s ===============================
